<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTML Drag and Drop - Beginner's Guide</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: #f4f4f9;
        color: #333;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
        background: #fff;
        padding: 40px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        border-radius: 8px;
        border-top: 5px solid #6c5ce7; /* Indigo/Purple for API/JS vibe */
      }
      h1 {
        font-size: 2.5rem;
        color: #2c3e50;
        margin-bottom: 20px;
        border-bottom: 2px solid #eee;
        padding-bottom: 10px;
      }
      h2 {
        font-size: 1.8rem;
        color: #34495e;
        margin-top: 40px;
        margin-bottom: 20px;
        border-left: 5px solid #6c5ce7;
        padding-left: 15px;
      }
      h3 {
        font-size: 1.4rem;
        color: #4a5568;
        margin-top: 25px;
        margin-bottom: 10px;
      }
      .intro-text {
        font-size: 1.1rem;
        color: #4a5568;
        margin-bottom: 30px;
        background-color: #f3f0ff;
        padding: 20px;
        border-radius: 8px;
        border: 1px solid #e0dcec;
      }
      ul {
        list-style-type: none;
        padding: 0;
      }
      li.q-item {
        margin-bottom: 30px;
        padding: 20px;
        background-color: #fff;
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        transition: transform 0.2s;
      }
      li.q-item:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      }
      .question {
        font-weight: 700;
        color: #2d3748;
        display: block;
        margin-bottom: 10px;
        font-size: 1.15rem;
      }
      .answer {
        color: #4a5568;
        margin-bottom: 15px;
        display: block;
      }
      .step-box {
        background: #f8fafc;
        border: 1px solid #cbd5e0;
        padding: 20px;
        border-radius: 8px;
        margin-bottom: 20px;
      }
      .step-number {
        display: inline-block;
        background: #6c5ce7;
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        text-align: center;
        line-height: 30px;
        font-weight: bold;
        margin-right: 10px;
      }
      .example-box {
        background-color: #2d2d2d;
        border-radius: 6px;
        padding: 15px;
        margin-top: 15px;
        overflow-x: auto;
      }
      .example-label {
        font-size: 0.85rem;
        font-weight: bold;
        color: #a0aec0;
        text-transform: uppercase;
        margin-bottom: 5px;
        display: block;
      }
      pre {
        margin: 0;
        font-family: 'Consolas', 'Monaco', monospace;
        font-size: 0.95em;
        color: #e2e8f0;
      }
      code {
        font-family: 'Consolas', 'Monaco', monospace;
      }
      /* Syntax highlighting simulation */
      .tag { color: #ff79c6; }
      .attr { color: #50fa7b; }
      .str { color: #f1fa8c; }
      .kwd { color: #8be9fd; }
      .com { color: #6272a4; font-style: italic; }
      .func { color: #ffb86c; }

      .note {
        font-size: 0.9rem;
        color: #718096;
        font-style: italic;
        margin-top: 10px;
        border-top: 1px solid #e2e8f0;
        padding-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
        <h1>HTML Drag and Drop API</h1>
        
        <div class="intro-text">
            <p>
                <strong>What is it?</strong> The Drag and Drop API is a way to let users pick up an element on your webpage and drop it somewhere else. Think of Trello cards, moving clear files in Google Drive, or uploading a file by dropping it onto a box.
            </p>
            <p>
                There are <strong>3 main players</strong> in every drag and drop scene:
                <ol style="margin-top: 10px; margin-left: 20px;">
                    <li><strong>The Draggable Item:</strong> The thing you move (e.g., a card).</li>
                    <li><strong>The Drop Zone:</strong> The destination (e.g., a "Done" column).</li>
                    <li><strong>The Data:</strong> The invisible info being carried (e.g., the card's ID).</li>
                </ol>
            </p>
        </div>

        <h2>How to Implement (4 Easy Steps)</h2>

        <div class="step-box">
            <h3><span class="step-number">1</span> Make it Draggable</h3>
            <p>By default, div and p tags can't be dragged. You must add the <code>draggable="true"</code> attribute.</p>
            <div class="example-box">
<pre>
<span class="tag">&lt;div</span> <span class="attr">id</span>=<span class="str">"card1"</span> <span class="attr">draggable</span>=<span class="str">"true"</span><span class="tag">&gt;</span>
  Drag Me!
<span class="tag">&lt;/div&gt;</span>
</pre>
            </div>
        </div>

        <div class="step-box">
            <h3><span class="step-number">2</span> Start the Drag (Save Data)</h3>
            <p>When the user starts dragging, the <code>dragstart</code> event fires. This is where you save the ID of the item so the drop zone knows <em>what</em> is being dropped.</p>
            <div class="example-box">
<pre>
<span class="kwd">const</span> item = document.<span class="func">getElementById</span>(<span class="str">"card1"</span>);

item.<span class="func">addEventListener</span>(<span class="str">"dragstart"</span>, (event) => {
  <span class="com">// Store the ID "card1" into the data transfer system</span>
  event.dataTransfer.<span class="func">setData</span>(<span class="str">"text/plain"</span>, event.target.id);
});
</pre>
            </div>
        </div>

        <div class="step-box">
            <h3><span class="step-number">3</span> Allow Dropping (The Common Mistake)</h3>
            <p><strong>Crucial:</strong> By default, HTML elements refuse to accept drops. To fix this, you MUST listen to <code>dragover</code> on the drop zone and call <code>preventDefault()</code>.</p>
            <div class="example-box">
<pre>
<span class="kwd">const</span> dropZone = document.<span class="func">getElementById</span>(<span class="str">"zone"</span>);

dropZone.<span class="func">addEventListener</span>(<span class="str">"dragover"</span>, (event) => {
  <span class="com">// "I allow drops here!"</span>
  event.<span class="func">preventDefault</span>(); 
});
</pre>
            </div>
        </div>

        <div class="step-box">
            <h3><span class="step-number">4</span> Handle the Drop</h3>
            <p>When the user lets go, the <code>drop</code> event fires. Here you read the data you saved in Step 2 and move the element.</p>
            <div class="example-box">
<pre>
dropZone.<span class="func">addEventListener</span>(<span class="str">"drop"</span>, (event) => {
  event.<span class="func">preventDefault</span>(); <span class="com">// Clean landing</span>
  
  <span class="com">// Retrieve the ID (e.g., "card1")</span>
  <span class="kwd">const</span> data = event.dataTransfer.<span class="func">getData</span>(<span class="str">"text/plain"</span>);
  
  <span class="com">// Find the element and move it to this zone</span>
  <span class="kwd">const</span> draggableElement = document.<span class="func">getElementById</span>(data);
  dropZone.<span class="func">appendChild</span>(draggableElement);
});
</pre>
            </div>
        </div>

        <h2>Deep Dive Q&A</h2>
        <ul>
            <li class="q-item">
                <span class="question">1. What are the key events for the item being dragged?</span>
                <span class="answer">The item itself has three main lifecycle events:</span>
                <ul>
                    <li><code>dragstart</code>: Fires once when you first move the mouse. (Setup data here)</li>
                    <li><code>drag</code>: Fires repeatedly while moving. (Rarely used)</li>
                    <li><code>dragend</code>: Fires once when you let go, whether it succeeded or failed. (Cleanup styles here, e.g., remove "dragging" class)</li>
                </ul>
            </li>

            <li class="q-item">
                <span class="question">2. What are the key events for the Drop Zone?</span>
                <span class="answer">The element you want to drop ONTO has its own events:</span>
                <ul>
                    <li><code>dragenter</code>: Fires when an item enters the zone. (Good for highlighting the zone)</li>
                    <li><code>dragover</code>: Fires repeatedly while hovering. (<strong>Must use preventDefault() here</strong>)</li>
                    <li><code>dragleave</code>: Fires when leaving the zone. (Remove highlight here)</li>
                    <li><code>drop</code>: Fires when the mouse is released. (Handle the logic here)</li>
                </ul>
            </li>

            <li class="q-item">
                <span class="question">3. What is `dataTransfer`?</span>
                <span class="answer">Think of <code>dataTransfer</code> as a temporary clipboard or "suitcase" that travels with the dragged item. You put data IN during <code>dragstart</code> and take it OUT during <code>drop</code>. It helps you pass information (like an ID or file data) from the start point to the end point.</span>
            </li>

            <li class="q-item">
                <span class="question">4. Why do we need `event.preventDefault()`?</span>
                <span class="answer">Browsers have default behaviors for drops (like opening a file in a new tab). When we implement custom drag and drop, we want to stop (prevent) that default behavior so our code can handle the drop instead.</span>
            </li>
        </ul>
        
        <p class="note">Source: <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API" target="_blank">MDN Web Docs - HTML Drag and Drop API</a></p>
    </div>
  </body>
</html>
